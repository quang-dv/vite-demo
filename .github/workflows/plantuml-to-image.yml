name: Convert PlantUML to Image

on:
  push:
    branch:
      - main
    paths:
      - "src/docs/plantuml/**" # Kích hoạt khi có thay đổi trong thư mục uml

permissions:
  contents: read  # Quyền đọc nội dung
  actions: write   # Quyền ghi cho actions
  pull-requests: write

jobs:
  generate_plantuml:
    runs-on: ubuntu-latest
    name: plantuml
    steps:
      - name: checkout
        uses: actions/checkout@v2
      - name: plantuml
        id: plantuml
        uses: grassedge/generate-plantuml-action@master
        with:
          path: docs/plantuml/img
          message: "bot: update plantuml images"
        env:
          GITHUB_TOKEN: ${{ secrets.MY_TOKEN }}
